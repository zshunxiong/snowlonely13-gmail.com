!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(2)},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(1);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isEmpty=!1,this.index=i,this.puzzle=t,this.width=this.puzzle.width/this.puzzle.dimmension,this.height=this.puzzle.height/this.puzzle.dimmension,this.el=this.createDiv(),t.el.appendChild(this.el),this.index!==this.puzzle.dimmension*this.puzzle.dimmension-1?(this.setImage(),this.setPosition(this.index)):this.isEmpty=!0}var t,i,o;return t=e,(i=[{key:"createDiv",value:function(){var e=this,t=document.createElement("div");return t.style.backgroundSize="".concat(this.puzzle.width,"px ").concat(this.puzzle.height,"px"),t.style.border="1px solid #FFF",t.style.position="absolute",t.onclick=function(){var t=e.puzzle.findPosition(e.index),i=e.puzzle.findEmpty(),n=e.getXY(t),o=n.x,s=n.y,l=e.getXY(i),r=l.x,u=l.y;o!==r&&s!==u||1!==Math.abs(o-r)&&1!==Math.abs(s-u)||(e.puzzle.numberOfMovements++,e.puzzle.onSwap&&"function"==typeof e.puzzle.onSwap&&e.puzzle.onSwap(e.puzzle.numberOfMovements),e.puzzle.swapCells(t,i,!0))},t}},{key:"setImage",value:function(){var e=this.getXY(this.index),t=e.x,i=e.y,n=this.width*t,o=this.height*i;this.el.style.width="".concat(this.width,"px"),this.el.style.height="".concat(this.height,"px"),this.el.style.backgroundImage="url(".concat(this.puzzle.imageSrc,")"),this.el.style.backgroundPosition="-".concat(n,"px -").concat(o,"px")}},{key:"setPosition",value:function(e,t,i){var n=this.getPositionFromIndex(e),o=n.left,s=n.top,l=this.getPositionFromIndex(i),r=l.left,u=l.top;t?o!==r?this.animate("left",r,o):s!==u&&this.animate("top",u,s):(this.el.style.left="".concat(o,"px"),this.el.style.top="".concat(s,"px"))}},{key:"animate",value:function(e,t,i){var n=this,o=10*Math.abs(i-t)/500,s=setInterval((function(){t<i?(t=Math.min(i,t+o))>=i&&clearInterval(s):(t=Math.max(i,t-o))<=i&&clearInterval(s),n.el.style[e]=t+"px"}),10)}},{key:"getPositionFromIndex",value:function(e){var t=this.getXY(e),i=t.x,n=t.y;return{left:this.width*i,top:this.height*n}}},{key:"getXY",value:function(e){return{x:e%this.puzzle.dimmension,y:Math.floor(e/this.puzzle.dimmension)}}}])&&n(t.prototype,i),o&&n(t,o),e}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t,i,n){var o=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;s(this,e),this.parentEl=t,this.dimmension=l,this.imageSrc=i,this.width=n,this.cells=[],this.shuffling=!1,this.numberOfMovements=0,this.onFinished=function(){},this.onSwap=function(){},this.init();var r=new Image;r.onload=function(){console.log(r.width,r.height),o.height=r.height*o.width/r.width,o.el.style.width="".concat(o.width,"px"),o.el.style.height="".concat(o.height,"px"),o.setup()},r.src=this.imageSrc}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.el=this.createWrapper(),this.parentEl.appendChild(this.el)}},{key:"createWrapper",value:function(){var e=document.createElement("div");return e.style.position="relative",e.style.margin=" 0 auto",e}},{key:"setup",value:function(){for(var e=0;e<this.dimmension*this.dimmension;e++)this.cells.push(new o(this,e));this.shuffle()}},{key:"shuffle",value:function(){this.shuffling=!0;for(var e=this.cells.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1));this.swapCells(e,t)}this.shuffling=!1}},{key:"swapCells",value:function(e,t,i){this.cells[e].setPosition(t,i,e),this.cells[t].setPosition(e);var n=[this.cells[t],this.cells[e]];this.cells[e]=n[0],this.cells[t]=n[1],!this.shuffling&&this.isAssembled()&&this.onFinished&&"function"==typeof this.onFinished&&this.onFinished.call(this)}},{key:"isAssembled",value:function(){for(var e=0;e<this.cells.length;e++)if(e!==this.cells[e].index)return 6===e&&8===this.cells[e].index&&this.cells[e+1].index===e+1;return!0}},{key:"findPosition",value:function(e){return this.cells.findIndex((function(t){return t.index===e}))}},{key:"findEmpty",value:function(){return this.cells.findIndex((function(e){return e.isEmpty}))}}])&&l(t.prototype,i),n&&l(t,n),e}();window.PicturePuzzle=window.PicturePuzzle||r;var u=1,a=function(){document.querySelectorAll("#puzzle-wrapper > div")[0].innerHTML="";var e="./".concat(u,".jpg"),t=new r(document.querySelectorAll("#puzzle-wrapper > div")[0],e,400);t.onSwap=function(e){console.log(e)};var i=document.querySelector("#success-modal");i.style.display="block",t.onFinished=function(){var e=this;console.log("Show good job dialog"),setTimeout((function(){i.classList.add("open"),e.el.classList.add("blur-it")}),500),i.querySelector(".trigger").onclick=function(){i.classList.remove("open"),e.el.classList.remove("blur-it")}}};a(),document.querySelectorAll("#navigator > i")[0].onclick=function(){1!=u&&(u--,a()),console.log(u)},document.querySelectorAll("#navigator > i")[1].onclick=function(){3!=u&&(u++,a()),console.log(u)}}]);